# Acceder a tu token

# ANTES TENER INSTALADO REQUEST PONER ESTO EN LA CONSOLA
# pip install requests
# python -m pip install requests
# EJECUTAR CON LA PALABRA PYTHON ANTES 

# Importar librerÃ­as
import requests
import json

# Hacer la peticiÃ³n
TOKEN = TOKEN
url = f"https://api.waqi.info/feed/here/?token={TOKEN}"
respuesta = requests.get(url)
data = respuesta.json()

# Guardar la respuesta en un archivo
with open(r" AQUI PONER SU PROPIA RUTA Y EL NOMBRE DEL ARCHIVO .TXT", "w") as busqueda:
    json.dump(data, busqueda, indent=4, ensure_ascii=False)

# Datos generales
print(f"ğŸ“ Ciudad: {data['data']['city']['name']}")
print(f"ğŸ—“ï¸ Fecha: {data['data']['time']['iso']}")
print(f"ğŸŒ«ï¸ AQI actual (pm2.5): {data['data']['aqi']}")
print(f"â˜ï¸ Contaminante dominante: {data['data']['dominentpol']}")

# Datos de contaminantes actuales
print("\nğŸ“Š Contaminantes actuales:")
for contaminante, valor in data['data']['iaqi'].items():
    print(f"  {contaminante.upper()}: {valor['v']}")

# PronÃ³stico de PM2.5
print("\nğŸ”® PronÃ³stico PM2.5 para los prÃ³ximos dÃ­as:")
for dia in data['data']['forecast']['daily']['pm25']:
    print(f"  {dia['day']}: promedio {dia['avg']}, mÃ¡x {dia['max']}, mÃ­n {dia['min']}")

----------------------------------------------------------------------------------------------------------------------------------------
# ESTO SE IMPRIME

ğŸ“Š Contaminantes actuales:
  CO: 4.3
  H: 79
  NO2: 23.2
  O3: 21.6
  P: 1019.7
  PM10: 31
  PM25: 42
  SO2: 2.8
  T: 20.2
  W: 1
  WG: 4.5

ğŸ”® PronÃ³stico PM2.5 para los prÃ³ximos dÃ­as:
  2025-05-07: promedio 50, mÃ¡x 69, mÃ­n 28
  2025-05-08: promedio 29, mÃ¡x 49, mÃ­n 11
  2025-05-09: promedio 27, mÃ¡x 40, mÃ­n 13
  2025-05-10: promedio 36, mÃ¡x 57, mÃ­n 27
  2025-05-11: promedio 40, mÃ¡x 52, mÃ­n 34
  2025-05-12: promedio 55, mÃ¡x 75, mÃ­n 38
  2025-05-13: promedio 60, mÃ¡x 108, mÃ­n 52
  2025-05-14: promedio 61, mÃ¡x 132, mÃ­n 52

C:\Users\Dell\Documents\PIA>python piaprueba.py
ğŸ“ Ciudad: Universidad, Monterrey, Nuevo LeÃ³n, Mexico
ğŸ—“ï¸ Fecha: 2025-05-09T11:00:00-05:00
ğŸŒ«ï¸ AQI actual (pm2.5): 42
â˜ï¸ Contaminante dominante: pm25

ğŸ“Š Contaminantes actuales:
  CO: 4.3
  H: 79
  NO2: 23.2
  O3: 21.6
  P: 1019.7
  PM10: 31
  PM25: 42
  SO2: 2.8
  T: 20.2
  W: 1
  WG: 4.5

ğŸ”® PronÃ³stico PM2.5 para los prÃ³ximos dÃ­as:
  2025-05-07: promedio 50, mÃ¡x 69, mÃ­n 28
  2025-05-08: promedio 29, mÃ¡x 49, mÃ­n 11
  2025-05-09: promedio 27, mÃ¡x 40, mÃ­n 13
  2025-05-10: promedio 36, mÃ¡x 57, mÃ­n 27
  2025-05-11: promedio 40, mÃ¡x 52, mÃ­n 34
  2025-05-12: promedio 55, mÃ¡x 75, mÃ­n 38
  2025-05-13: promedio 60, mÃ¡x 108, mÃ­n 52
  2025-05-14: promedio 61, mÃ¡x 132, mÃ­n 52

